<!DOCTYPE html>
<html>
	<head>
	    <title>Angular App Data Layer with Ensighten Events</title>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular.js"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular-route.js"></script>
		<script type="text/javascript">
			// these could all be namespaced (e.g. var DigitalData = {}; DigitalData.digitalDataLastUpdate ... ) if desired
			var digitalDataLastUpdate = Date.now(); // this object is watched by the tag management system
			var digitalDataLastEventUpdate = Date.now(); // this object is watched by the tag management system
			var digitalData = {}; // this object holds the digital data structure and can be utilized by the tag management system. 
			                      // 
			                      // It can be fully built whenever the Angular route changes by using route resolves to call to the 
			                      // server, build the digitalData object there, return it to the route's controller, make any client-
			                      // side updates to digitalData necessary, then update the digitalDataLastUpdate var with a new date.
			                      //
			                      // The digitalData object can be partially rebuilt/modified by a controller event, most often by 
			                      // creating and pushing a new digitalData event into the digitalData.event[] array (though also cart-
			                      // related properties), then update the digitalDataLastEventUpdate var with a new date. 
		</script>
		<!-- BEGIN: INSERT ENSIGHTEN MANAGE BOOTSTRAP HERE -->
		<!-- e.g. <script src="//nexus.ensighten.com/{account}/{space}/Bootstrap.js"></script> -->
		<!-- END: INSERT ENSIGHTEN MANAGE BOOTSTRAP HERE -->
	</head>
	<body ng-app="app">
	  <div class="container" style="background-color: LightGray;">
	    <h1>Proof of Concept</h1>
	    <h3>Angular App <a href="//www.w3.org/2013/12/ceddl-201312.pdf">Data Layer</a> with Ensighten Events</h3>
	    <h5>Be sure to open browser dev tool console and watch output.</h5>
	    <div ng-controller="app-controller">
		    <a href="#/">Home</a> | 
		    <a href='#/product1'>Product 1</a> | 
		    <a href='#/product2'>Product 2</a>
		    <div>This content is above the ng-view directive.</div> 
		    <div ng-view></div>
		    <div>This content is below the ng-view directive.</div>
	    </div>
	  </div>
	  <script src="js/app.js"></script>
	</body>
</html>